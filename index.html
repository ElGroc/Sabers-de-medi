<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explorador del Curr√≠culum de Medi Social i Cultural</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #4A4A4A;
        }
        .nav-btn {
            transition: all 0.3s ease;
        }
        .nav-btn.active {
            background-color: #A88B79;
            color: #FFFFFF;
            font-weight: 700;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .content-card {
            background-color: #FFFFFF;
            border: 1px solid #EAEAEA;
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.05);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <header class="text-center mb-10">
            <h1 class="text-3xl md:text-4xl font-bold text-[#6B5B50]">Curr√≠culum de Medi Social, Cultural i Natural</h1>
            <p class="mt-2 text-lg text-gray-600">Explorador interactiu dels sabers de l'educaci√≥ prim√†ria a Catalunya.</p>
        </header>

        <nav class="flex justify-center space-x-2 md:space-x-4 mb-10 p-2 bg-white/50 backdrop-blur-sm rounded-full shadow-sm sticky top-4 z-10">
            <button id="btn-inicial" class="nav-btn px-4 py-2 md:px-6 md:py-3 rounded-full text-sm md:text-base font-medium text-gray-700 bg-white" onclick="selectCycle('inicial')">Cicle Inicial</button>
            <button id="btn-mitja" class="nav-btn px-4 py-2 md:px-6 md:py-3 rounded-full text-sm md:text-base font-medium text-gray-700 bg-white" onclick="selectCycle('mitja')">Cicle Mitj√†</button>
            <button id="btn-superior" class="nav-btn px-4 py-2 md:px-6 md:py-3 rounded-full text-sm md:text-base font-medium text-gray-700 bg-white" onclick="selectCycle('superior')">Cicle Superior</button>
        </nav>

        <main class="grid grid-cols-1 lg:grid-cols-5 gap-8">
            
            <section id="content-display" class="lg:col-span-3 order-2 lg:order-1">
                <div class="text-center p-8">
                    <h2 class="text-xl font-bold text-[#A88B79]">Benvingut/da!</h2>
                    <p class="mt-2 text-gray-600">Selecciona un cicle educatiu a la part superior per explorar els sabers corresponents i veure com es comparen en el gr√†fic.</p>
                </div>
            </section>

            <aside class="lg:col-span-2 order-1 lg:order-2">
                <div class="content-card rounded-xl p-4 md:p-6 sticky top-24">
                    <h3 class="text-lg font-bold text-center text-[#6B5B50] mb-4">Progressi√≥ de Sabers per Cicle</h3>
                    <p class="text-sm text-gray-500 text-center mb-4">Aquest gr√†fic mostra l'√®mfasi relatiu de cada cicle en les diferents √†rees de coneixement. Selecciona un cicle per ressaltar-ne el perfil.</p>
                    <div class="chart-container">
                        <canvas id="curriculumChart"></canvas>
                    </div>
                </div>
            </aside>

        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const curriculumData = {
            inicial: {
                title: 'Cicle Inicial (1r i 2n)',
                content: [
                    {
                        icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶',
                        title: 'L\'entorn social i familiar',
                        points: [
                            '**La identitat i l\'autoconeixement:** Identificaci√≥ dels trets personals, emocions i gustos. Reconeixement dels canvis f√≠sics i emocionals propis.',
                            '**Relacions familiars i socials:** Reconeixement de la pr√≤pia fam√≠lia i la diversitat de models familiars. Descripci√≥ dels rols i funcions de cada membre i de les relacions amb altres persones de l\'entorn.',
                            '**L\'escola com a comunitat:** Coneixement de les diferents depend√®ncies i serveis de l\'escola. Participaci√≥ activa en la vida escolar: normes, responsabilitats i col¬∑laboraci√≥ en grup.'
                        ]
                    },
                    {
                        icon: 'üó∫Ô∏è',
                        title: 'L\'entorn geogr√†fic i temporal',
                        points: [
                            '**Orientaci√≥ espacial:** √ös de conceptes d\'orientaci√≥ b√†sica (dalt, baix, dreta, esquerra, a prop, lluny) en espais familiars com l\'aula, l\'escola o la pr√≤pia habitaci√≥.',
                            '**Representaci√≥ de l\'espai:** Lectura de pl√†nols i mapes molt senzills, i creaci√≥ de representacions esquem√†tiques del propi entorn (p. ex., pl√†nol del barri o del cam√≠ de casa a l\'escola).',
                            '**Organitzaci√≥ del temps:** √ös d\'unitats de temps com dies de la setmana, mesos, estacions de l\'any i diferenciaci√≥ entre passat, present i futur. Ordenaci√≥ cronol√≤gica d\'esdeveniments personals i familiars rellevants.'
                        ]
                    },
                    {
                        icon: 'üéâ',
                        title: 'Festes i tradicions',
                        points: [
                            '**Festes populars:** Reconeixement i participaci√≥ en festes populars catalanes (Castanyada, Nadal, Carnestoltes, Sant Jordi, etc.). Identificaci√≥ dels seus elements caracter√≠stics (menjars, vestits, can√ßons).',
                            '**Tradicions i costums:** Coneixement de costums i tradicions de la cultura pr√≤pia i d\'altres cultures presents a l\'entorn, fomentant el respecte per la diversitat cultural.'
                        ]
                    },
                    {
                        icon: 'üå≥',
                        title: '√âssers vius i el medi',
                        points: [
                            '**Classificaci√≥ d\'√©ssers vius:** Distinci√≥ entre animals, plantes i fongs. Coneixement de la diversitat animal (mam√≠fers, aus, r√®ptils, amfibis, peixos, insectes) i vegetal (arbres, arbustos, herbes).',
                            '**L\'h√†bitat i la superviv√®ncia:** Relaci√≥ dels animals i les plantes amb el seu h√†bitat. Necessitats b√†siques dels √©ssers vius (aigua, aire, aliment) i adaptacions al medi.',
                            '**Cicles de la vida:** Observaci√≥ i descripci√≥ dels cicles de vida d\'alguns animals i plantes (p. ex., la metamorfosi de la papallona, el creixement d\'una llavor).',
                            '**Respecte pel medi ambient:** Pr√†ctiques quotidianes per a la cura del medi natural: estalvi d\'aigua, reciclatge, no malmetre plantes ni animals.'
                        ]
                    },
                    {
                        icon: 'üß™',
                        title: 'Mat√®ria, objectes i energia',
                        points: [
                            '**Propietats de la mat√®ria:** Exploraci√≥ sensorial de les propietats b√†siques de materials comuns (fusta, pl√†stic, paper, metall) a trav√©s del tacte, la vista i el so. Diferenciaci√≥ entre materials naturals i artificials.',
                            '**Fonts d\'energia:** Identificaci√≥ de fonts de llum (natural i artificial) i de so. Recon√®ixer que l\'electricitat √©s una forma d\'energia que fa funcionar els aparells.',
                            '**√ös d\'eines i m√†quines:** Reconeixement d\'eines i aparells senzills de l\'entorn i √∫s segur d\'aquests. Comprensi√≥ que serveixen per facilitar la feina.'
                        ]
                    }
                ]
            },
            mitja: {
                title: 'Cicle Mitj√† (3r i 4t)',
                content: [
                    {
                        icon: 'üèõÔ∏è',
                        title: 'L\'entorn social i pol√≠tic',
                        points: [
                            '**La poblaci√≥ i el municipi:** Coneixement de l\'organitzaci√≥ i el funcionament de l\'ajuntament i dels serveis p√∫blics que ofereix a la ciutadania (biblioteques, escoles, centres de salut, etc.).',
                            '**Organitzaci√≥ territorial:** Estudi de l\'organitzaci√≥ de Catalunya en comarques i les seves caracter√≠stiques (capital, paisatge, activitats econ√≤miques). Identificaci√≥ de la pr√≤pia comarca.',
                            '**Societat i diversitat:** Valoraci√≥ de la import√†ncia dels diferents rols i funcions dels grups socials. Reconeixement de la diversitat cultural i social com una riquesa.',
                            '**Valors democr√†tics:** Nocions b√†siques de participaci√≥ c√≠vica i normes de conviv√®ncia.'
                        ]
                    },
                    {
                        icon: 'üìú',
                        title: 'L\'entorn hist√≤ric',
                        points: [
                            '**Concepte de temps hist√≤ric:** Diferenciaci√≥ entre el passat, el present i el futur, i la seva representaci√≥ en l√≠nies de temps. √ös d\'unitats de temps hist√≤riques (d√®cades, segles).',
                            '**Fets i personatges hist√≤rics:** Nocions b√†siques sobre la hist√≤ria de Catalunya i d\'Espanya, amb √®mfasi en fets i personatges rellevants (p. ex., la romanitzaci√≥, la societat medieval, l\'era industrial).',
                            '**Fonts hist√≤riques:** Identificaci√≥ i an√†lisi de fonts hist√≤riques senzilles (fotografies antigues, mapes, monedes, relats orals) per comprendre el passat.',
                            '**Canvis i continu√Øtats:** Comparaci√≥ de la vida quotidiana del passat amb la del present per identificar els canvis i els elements que es mantenen.'
                        ]
                    },
                    {
                        icon: 'üè≠',
                        title: 'L\'entorn econ√≤mic',
                        points: [
                            '**Sectors econ√≤mics:** Diferenciaci√≥ entre el sector primari (agricultura, ramaderia, pesca), el secundari (ind√∫stria) i el terciari (serveis). Identificaci√≥ de les activitats principals del municipi o la comarca.',
                            '**El cicle de producci√≥:** Comprensi√≥ de com els productes passen de la mat√®ria primera al producte elaborat i el seu cam√≠ fins al consumidor.',
                            '**Consum responsable:** Valoraci√≥ de la import√†ncia del consum responsable i el respecte pel medi ambient en el proc√©s de producci√≥ i consum.'
                        ]
                    },
                    {
                        icon: 'üèûÔ∏è',
                        title: 'L\'entorn geogr√†fic',
                        points: [
                            '**Paisatges de Catalunya:** Estudi de les caracter√≠stiques principals dels paisatges catalans (costaner, de muntanya, de plana) i dels elements naturals (rius, llacs, muntanyes, etc.) i humanitzats (pobles, camps de conreu, carreteres).',
                            '**Representaci√≥ de l\'espai:** Interpretaci√≥ de mapes tem√†tics (de clima, de relleu, de poblaci√≥) i √∫s de llegendes, escales i punts cardinals. Representaci√≥ de territoris m√©s amplis (la comarca, Catalunya).',
                            '**Canvis en el paisatge:** Identificaci√≥ de com les activitats humanes transformen el paisatge (p. ex., construcci√≥ de carreteres, urbanitzacions, etc.).'
                        ]
                    },
                    {
                        icon: 'ü¶ã',
                        title: 'Ecosistemes i biodiversitat',
                        points: [
                            '**Relaci√≥ entre √©ssers vius i el medi:** Reconeixement de les interaccions que es donen en un ecosistema (cadenes aliment√†ries).',
                            '**Flora i fauna de Catalunya:** Identificaci√≥ de les esp√®cies animals i vegetals m√©s representatives de Catalunya. Valoraci√≥ de la biodiversitat.',
                            '**L\'impacte hum√†:** Nocions sobre els problemes ambientals causats per l\'acci√≥ humana (contaminaci√≥, desforestaci√≥) i la import√†ncia de la conservaci√≥.',
                            '**La salut i el benestar:** Import√†ncia dels h√†bits saludables (higiene, alimentaci√≥ equilibrada, exercici f√≠sic).'
                        ]
                    },
                    {
                        icon: '‚öôÔ∏è',
                        title: 'Energia i tecnologia',
                        points: [
                            '**Formes d\'energia:** Comprensi√≥ que l\'energia existeix en diferents formes (llum, calor, el√®ctrica, de moviment).',
                            '**Tecnologia i m√†quines:** Identificaci√≥ de m√†quines i eines, i la seva utilitat per a l\'√©sser hum√†. Diferenciaci√≥ entre m√†quines simples (palanca, rampa, politja) i complexes.',
                            '**Fonts d\'energia renovables:** Nocions b√†siques sobre les fonts d\'energia renovables (solar, e√≤lica) i el seu paper en la sostenibilitat.'
                        ]
                    }
                ]
            },
            superior: {
                title: 'Cicle Superior (5√® i 6√®)',
                content: [
                    {
                        icon: 'üá™üá∫',
                        title: 'L\'entorn pol√≠tic i institucional',
                        points: [
                            '**Organitzaci√≥ de l\'Estat i la Uni√≥ Europea:** Coneixement del funcionament b√†sic de les institucions de govern de Catalunya, Espanya i la Uni√≥ Europea (govern, parlament).',
                            '**Valors i drets democr√†tics:** Comprensi√≥ dels valors democr√†tics (llibertat, just√≠cia, igualtat) i dels Drets Humans. Reflexi√≥ sobre els drets i deures com a ciutadans.',
                            '**Participaci√≥ ciutadana:** Reconeixement de les vies de participaci√≥ c√≠vica (eleccions, associacionisme).'
                        ]
                    },
                    {
                        icon: 'üè∫',
                        title: 'L\'entorn hist√≤ric',
                        points: [
                            '**Etapes de la hist√≤ria:** Estudi de les grans etapes de la hist√≤ria de Catalunya i d\'Espanya: Prehist√≤ria, Edat Antiga, Edat Mitjana, Edat Moderna i Edat Contempor√†nia. Identificaci√≥ de fets i personatges rellevants de cada √®poca.',
                            '**Causa i conseq√º√®ncia:** An√†lisi de les causes i conseq√º√®ncies dels fets hist√≤rics. √ös del pensament cr√≠tic per comprendre les transformacions socials al llarg del temps.',
                            '**Recerca hist√≤rica:** √ös de diferents tipus de fonts (documents escrits, objectes, edificis, fonts orals) per a la recerca i l\'an√†lisi d\'un fet hist√≤ric.'
                        ]
                    },
                    {
                        icon: 'üåç',
                        title: 'L\'entorn geogr√†fic',
                        points: [
                            '**Geografia f√≠sica:** Descripci√≥ del relleu, clima, hidrografia i vegetaci√≥ de Catalunya, Espanya i Europa. Identificaci√≥ de grans unitats de relleu, rius i zones clim√†tiques.',
                            '**Geografia humana:** An√†lisi de la poblaci√≥: distribuci√≥, creixement i moviments migratoris. Coneixement dels factors que influeixen en la distribuci√≥ de la poblaci√≥.',
                            '**L\'impacte ambiental:** Comprensi√≥ de l\'impacte de les activitats humanes en el medi ambient i la necessitat d\'un desenvolupament sostenible.',
                            '**El m√≥n globalitzat:** Reconeixement de la interconnexi√≥ entre els pa√Øsos i la interdepend√®ncia econ√≤mica i cultural. Valoraci√≥ de la diversitat cultural com a font de riquesa.'
                        ]
                    },
                    {
                        icon: 'üåê',
                        title: 'El m√≥n globalitzat',
                        points: [
                            '**La interconnexi√≥ global:** Comprensi√≥ de com els productes, les idees i les persones es mouen per tot el m√≥n.',
                            '**Reptes globals:** Reflexi√≥ sobre reptes com el canvi clim√†tic, la desigualtat i la pobresa en un context globalitzat. Coneixement dels Objectius de Desenvolupament Sostenible (ODS).',
                            '**Di√†leg intercultural:** Valoraci√≥ del di√†leg i el respecte per les diferents cultures i formes de vida.'
                        ]
                    },
                    {
                        icon: 'üß¨',
                        title: 'L\'organisme hum√†',
                        points: [
                            '**Anatomia i fisiologia:** Estudi dels principals sistemes i aparells del cos hum√†: digestiu, circulatori, respiratori, excretor, locomotor i nervi√≥s. Comprensi√≥ de les seves funcions i de com es relacionen entre ells.',
                            '**H√†bits de vida saludable:** Aprofundiment en la import√†ncia d\'una alimentaci√≥ equilibrada, la pr√†ctica d\'exercici f√≠sic regular, el descans i la higiene per a una bona salut.',
                            '**Sexualitat i reproducci√≥:** Nocions b√†siques sobre la reproducci√≥ humana i els canvis f√≠sics i emocionals durant la pubertat.'
                        ]
                    },
                    {
                        icon: 'üöÄ',
                        title: 'La Terra i l\'univers',
                        points: [
                            '**Moviments de la Terra:** Comprensi√≥ dels moviments de rotaci√≥ (dia i nit) i translaci√≥ (estacions de l\'any) i les seves conseq√º√®ncies.',
                            '**El sistema solar:** Estudi dels components del sistema solar: planetes, sat√®l¬∑lits, asteroides i cometes. Comprensi√≥ de la seva posici√≥ i √≤rbites.',
                            '**Fen√≤mens naturals i cicles:** An√†lisi de fen√≤mens naturals com ara el cicle de l\'aigua i els seus estats. Comprensi√≥ dels efectes de l\'escalfament global i els factors que hi contribueixen.'
                        ]
                    }
                ]
            }
        };

        const contentDisplay = document.getElementById('content-display');
        const buttons = {
            inicial: document.getElementById('btn-inicial'),
            mitja: document.getElementById('btn-mitja'),
            superior: document.getElementById('btn-superior')
        };

        let curriculumChart;

        function initializeChart() {
            // Check if a chart instance already exists and destroy it to avoid the error
            if (curriculumChart) {
                curriculumChart.destroy();
            }

            const chartCtx = document.getElementById('curriculumChart').getContext('2d');
            curriculumChart = new Chart(chartCtx, {
                type: 'radar',
                data: {
                    labels: ['Societat i Pol√≠tica', 'Hist√≤ria i Evoluci√≥', 'Geografia i Medi F√≠sic', 'Vida i Ecosistemes', 'Mat√®ria i Tecnologia'],
                    datasets: [
                        {
                            label: 'Cicle Inicial',
                            data: [3, 2, 3, 5, 3], // Updated data for the new curriculum
                            fill: true,
                            backgroundColor: 'rgba(239, 199, 173, 0.2)',
                            borderColor: 'rgb(239, 199, 173)',
                            pointBackgroundColor: 'rgb(239, 199, 173)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgb(239, 199, 173)'
                        },
                        {
                            label: 'Cicle Mitj√†',
                            data: [4, 4, 4, 4, 4], // Updated data for the new curriculum
                            fill: true,
                            backgroundColor: 'rgba(168, 139, 121, 0.2)',
                            borderColor: 'rgb(168, 139, 121)',
                            pointBackgroundColor: 'rgb(168, 139, 121)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgb(168, 139, 121)'
                        },
                        {
                            label: 'Cicle Superior',
                            data: [5, 5, 5, 5, 5], // Updated data for the new curriculum
                            fill: true,
                            backgroundColor: 'rgba(107, 91, 80, 0.2)',
                            borderColor: 'rgb(107, 91, 80)',
                            pointBackgroundColor: 'rgb(107, 91, 80)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgb(107, 91, 80)'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    elements: {
                        line: {
                            borderWidth: 2
                        }
                    },
                    scales: {
                        r: {
                            angleLines: {
                                color: '#EAEAEA'
                            },
                            grid: {
                                color: '#EAEAEA'
                            },
                            pointLabels: {
                                font: {
                                    size: 11
                                },
                                color: '#4A4A4A'
                            },
                            ticks: {
                                display: false,
                                stepSize: 1,
                                max: 5,
                                min: 0
                            }
                        }
                    }
                },
                plugins: {
                    legend: {
                        position: 'bottom',
                    }
                }
            });
        }
        
        function selectCycle(cycleKey) {
            updateContent(cycleKey);
            updateChart(cycleKey);
            updateActiveButton(cycleKey);
        }

        function updateContent(cycleKey) {
            const cycle = curriculumData[cycleKey];
            let contentHTML = `
                <h2 class="text-2xl font-bold text-center mb-6 text-[#A88B79]">${cycle.title}</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            `;
            cycle.content.forEach(block => {
                contentHTML += `
                    <div class="content-card rounded-xl p-6 flex flex-col">
                        <div class="flex items-center mb-4">
                            <span class="text-3xl mr-4">${block.icon}</span>
                            <h3 class="text-lg font-bold text-[#6B5B50]">${block.title}</h3>
                        </div>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 flex-grow">
                `;
                block.points.forEach(point => {
                    contentHTML += `<li>${point}</li>`;
                });
                contentHTML += `
                        </ul>
                    </div>
                `;
            });
            contentHTML += `</div>`;
            contentDisplay.innerHTML = contentHTML;
        }

        function updateActiveButton(activeCycleKey) {
            Object.keys(buttons).forEach(key => {
                if (key === activeCycleKey) {
                    buttons[key].classList.add('active');
                } else {
                    buttons[key].classList.remove('active');
                }
            });
        }
        
        const cycleMap = {
            inicial: 0,
            mitja: 1,
            superior: 2
        };

        function updateChart(cycleKey) {
            if (!curriculumChart) return;
            const activeIndex = cycleMap[cycleKey];
            curriculumChart.data.datasets.forEach((dataset, index) => {
                if (index === activeIndex) {
                    dataset.borderWidth = 4;
                    dataset.backgroundColor = dataset.backgroundColor.replace(/0.2\)$/, '0.6)');
                } else {
                    dataset.borderWidth = 2;
                    dataset.backgroundColor = dataset.backgroundColor.replace(/0.6\)$/, '0.2)');
                }
            });
            curriculumChart.update();
        }

        // Initialize the chart and select the first cycle on page load
        document.addEventListener('DOMContentLoaded', () => {
            initializeChart();
            selectCycle('inicial');
        });
    </script>

</body>
</html>
